{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\kreet\\\\OneDrive\\\\Desktop\\\\HCI project codes\\\\web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\kreet\\\\OneDrive\\\\Desktop\\\\HCI project codes\\\\web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\kreet\\\\OneDrive\\\\Desktop\\\\HCI project codes\\\\web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\kreet\\\\OneDrive\\\\Desktop\\\\HCI project codes\\\\web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\kreet\\\\OneDrive\\\\Desktop\\\\HCI project codes\\\\web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\kreet\\\\OneDrive\\\\Desktop\\\\HCI project codes\\\\web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\kreet\\\\OneDrive\\\\Desktop\\\\HCI project codes\\\\web\\\\src\\\\components\\\\Login.js\";\nimport React, { Component } from 'react';\nimport { Modal, Button, Form, Image, Row } from 'react-bootstrap';\nimport { login } from '../Services';\nimport { getHash } from './commons/Functions';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props, context) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props, context));\n\n    _this.handleChange = function (type) {\n      return function (event) {\n        var value = event;\n\n        if (event.target) {\n          value = event.target.value;\n        }\n\n        _this.setState(_defineProperty({}, type, value));\n      };\n    };\n\n    _this.handleSubmit = function (event) {\n      _this.setState({\n        modalShowErr: false\n      });\n\n      var form = event.currentTarget;\n\n      if (form.checkValidity() === true) {\n        login({\n          username: _this.state.username,\n          password: getHash(_this.state.password)\n        }).then(function (res) {\n          localStorage.setItem('user', JSON.stringify(res));\n\n          _this.props.handleClose();\n        }).catch(function (err) {\n          console.log(err);\n\n          _this.setState({\n            modalShowErr: true\n          });\n        });\n      }\n\n      event.preventDefault();\n      event.stopPropagation();\n    };\n\n    _this.joinClick = function () {\n      _this.props.handleClose();\n\n      _this.props.handleRegisterShow();\n    };\n\n    _this.state = {\n      // validated: false,\n      modalShowErr: false,\n      modalErrMsg: \"Incorrect username or password!!!\",\n      username: \"\",\n      password: \"\"\n    };\n    _this.baseState = _this.state;\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.setState(this.baseState);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Modal, {\n        show: this.props.showLogin,\n        onHide: this.props.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: function onSubmit(e) {\n          return _this2.handleSubmit(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Row, {\n        style: {\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Image, {\n        src: require(\"../images/login.png\"),\n        width: \"30%\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"formBasicEmail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Email\"), React.createElement(Form.Control, {\n        required: true,\n        type: \"username\",\n        placeholder: \"Enter email\",\n        onChange: this.handleChange('username'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"formBasicPassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Password\"), React.createElement(Form.Control, {\n        required: true,\n        type: \"password\",\n        placeholder: \"Enter Password\",\n        onChange: this.handleChange('password'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      })), this.state.modalShowErr && React.createElement(\"p\", {\n        style: {\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, this.state.modalErrMsg), React.createElement(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        block: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Sign in\")), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"light\",\n        block: true,\n        onClick: this.joinClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Join Now\"))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["C:\\Users\\kreet\\OneDrive\\Desktop\\HCI project codes\\web\\src\\components\\Login.js"],"names":["React","Component","Modal","Button","Form","Image","Row","login","getHash","Login","props","context","handleChange","type","event","value","target","setState","handleSubmit","modalShowErr","form","currentTarget","checkValidity","username","state","password","then","res","localStorage","setItem","JSON","stringify","handleClose","catch","err","console","log","preventDefault","stopPropagation","joinClick","handleRegisterShow","modalErrMsg","baseState","showLogin","e","alignItems","justifyContent","require","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport { Modal, Button, Form, Image, Row } from 'react-bootstrap'\nimport { login } from '../Services'\nimport { getHash } from './commons/Functions'\n\nclass Login extends Component {\n\n    constructor(props, context) {\n        super(props, context)\n        this.state = {\n            // validated: false,\n            modalShowErr: false,\n            modalErrMsg: \"Incorrect username or password!!!\",\n            username: \"\",\n            password: \"\"\n        }\n        this.baseState = this.state\n    }\n\n    componentWillUnmount() {\n        this.setState(this.baseState)\n    }\n\n    handleChange = type => event => {\n        let value = event;\n        if (event.target) {\n            value = event.target.value;\n        }\n        this.setState({ [type]: value })\n    }\n\n    handleSubmit = event => {\n        this.setState({ modalShowErr: false })\n        const form = event.currentTarget\n\n        if (form.checkValidity() === true) {\n            login({ username: this.state.username, password: getHash(this.state.password) })\n                .then(res => {\n                    localStorage.setItem('user', JSON.stringify(res))\n                    this.props.handleClose()\n                })\n                .catch(err => {\n                    console.log(err)\n                    this.setState({ modalShowErr: true })\n                })\n        }\n        event.preventDefault()\n        event.stopPropagation()\n    }\n\n    joinClick = () => {\n        this.props.handleClose()\n        this.props.handleRegisterShow()\n    }\n\n    render() {\n        return (\n            <Modal show={this.props.showLogin} onHide={this.props.handleClose}>\n                <Form onSubmit={e => this.handleSubmit(e)}>\n                    <Modal.Header closeButton>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <Row style={{ alignItems: 'center', justifyContent: 'center' }}>\n                            <Image src={require(\"../images/login.png\")} width='30%' />\n                        </Row>\n                        <Form.Group controlId=\"formBasicEmail\">\n                            <Form.Label>Email</Form.Label>\n                            <Form.Control required type=\"username\" placeholder=\"Enter email\" onChange={this.handleChange('username')} />\n                        </Form.Group>\n\n                        <Form.Group controlId=\"formBasicPassword\">\n                            <Form.Label>Password</Form.Label>\n                            <Form.Control required type=\"password\" placeholder=\"Enter Password\" onChange={this.handleChange('password')} />\n                        </Form.Group>\n                        {this.state.modalShowErr && <p style={{ color: 'red' }}>{this.state.modalErrMsg}</p>}\n                        <Button variant=\"primary\" type=\"submit\" block>\n                            Sign in\n                        </Button>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"light\" block onClick={this.joinClick}>\n                            Join Now\n                        </Button>\n                    </Modal.Footer>\n                </Form>\n            </Modal>\n        );\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}